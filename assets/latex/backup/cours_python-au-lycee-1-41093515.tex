\input{_header}
\meta{url}{/cours/python-au-lycee-1/}
\meta{pid}{10980}
\meta{titre}{Privé~: Python au lycée (1)~: Les variables et opérateurs}
\meta{type}{cours}
\begin{h2}1. Types de variables\end{h2}
Dans le langage Python, chaque variable et chaque constante possède un \textbf{type}.
\par
Les principaux types de base sont~:
\begin{itemize}
     \item %
     \textbf{int} (integer)~: nombre entier comme 5 ou -12345678901234567890
     \item %
     \textbf{float} (floating-point number)~: nombre décimal comme 0.0001 ou 3.141592654
     \item %
     \textbf{str} (string)~: chaîne de caractères comme \og Bonjour toto123~! \fg{} ou \og A \fg{}
\end{itemize}
\par
D'autres types (booléens, nombres complexes, listes, ...) seront vus dans des chapitres ultérieurs.
\par
L'instruction \og \texttt{type} \fg{} renvoie le type d'une expression. Par exemple~:
\begin{lstlisting}[language=Python]
>>> type(1) # affiche <class 'int'>
>>> type(1.5) # affiche <class 'float'>
>>> type('A') # affiche <class 'str'>
>>> type(True) # affiche <class 'bool'>
\end{lstlisting}
\textbf{Remarque~:}\\
Dans l'exemple ci-dessus, les chevrons >>> indiquent que les commandes ont été saisies en mode interactif - sous IDLE par exemple.\\
Les \# indiquent le début d'un commentaire~; ici, les commentaires sont utilisés pour indiquer le résultat de l'instruction.
\begin{h3}Affectation d'une valeur à une variable\end{h3}
On affecte une valeur à une variable grâce au symbole \og = \fg{}. Par exemple, l'instruction~:
\begin{lstlisting}[language=Python]
a=2
\end{lstlisting}
\begin{itemize}
     \item %
     crée la variable a (si elle n'existait pas déjà)
     \item %
     affecte la valeur 2 à la variable a
     \item %
     définit le type de a (ici~: int)
\end{itemize}
En Python, il n'est pas nécessaire de déclarer préalablement les variables ou leur type. \\
Python détermine de façon dynamique le type d'une variable en fonction de sa valeur. \\
Il est ainsi possible de changer le type d'une variable à l'intérieur d'un programme.
\par
Par exemple~:
 \begin{lstlisting}[language=Python]
a=1 # a est de type 'int'
a='Bonjour' # ne provoque pas d'erreur. a est maintenant de type 'str'
\end{lstlisting}
Le nom d'une variable doit être composé uniquement de lettres, de chiffres et du symbole \og \_ \fg{} (underscore). Il ne doit pas commencer par un chiffre.
\par
Exemple~:
\begin{lstlisting}[language=Python]
ma_variable=5 # correct
ma-variable=5 # incorrect
variable1=5 # correct
1variable=5 # incorrect
\end{lstlisting}
Enfin, signalons que la casse (distinction majuscule/minuscule) est également prise en compte~: \\
\texttt{MaVariable} et \texttt{mavariable} représentent deux variables différentes.
\begin{h3}Instructions d'entrée/sortie\end{h3}
La fonction \textbf{print} affiche à l'écran la valeur d'une variable ou d'une constante. Il est possible d'afficher plusieurs valeurs en les séparant par une virgule.
\par
Par exemple~:
\begin{lstlisting}[language=Python]
x=12
print('La valeur de x est',x) # affiche : La valeur de x est 12
print('Le type de x est',type(x)) # affiche : Le type de x est <class 'int'>
\end{lstlisting}
La fonction \textbf{input} est utilisée pour permettre à l'utilisateur d'entrer des données. Elle suspend le programme jusqu'à ce que l'utilisateur saisisse un texte. Lorsque l'utilisateur valide sa saisie à l'aide de la touche <ENTER> la fonction renvoie le texte saisi et le programme reprend son exécution.
\par
Il est possible d'indiquer en paramètre de la fonction \textit{input} une chaine de caractères qui sera affichée pour guider l'utilisateur (\og prompt \fg{}).
\par
Par exemple~:
\begin{lstlisting}[language=Python]
a=input('Saisir une valeur') # a recevra la valeur saisie
print('La valeur de a est',a) # affiche : La valeur de a est <valeur saisie par l'utilisateur>
\end{lstlisting}
\par
La valeur saisie par l'utilisateur est toujours considérée par Python comme étant de type \textit{str}. Pour obtenir un autre type de données, il faut \textit{transtyper} la valeur saisie.
\par
Exemple~:
 \begin{lstlisting}[language=Python]
a=input('Saisir une valeur : ') # a sera du type string
a=int(input('Saisir une valeur entiere : ')) # a sera du type int
a=float(input('Saisir une valeur decimale : ')) # a sera du type float
\end{lstlisting}
\begin{h2}2. Type \og int \fg{} \end{h2}
À partir de la version 3 de Python, il n'y a pas de limite (autre que la mémoire de l'ordinateur) au nombre de chiffres que peut avoir un entier~:
 \begin{lstlisting}[language=Python]
print('2 puissance 100 =', 2^100) 
    # affiche : 2 puissance 100 = 1267650600228229401496703205376
\end{lstlisting}
Le tableau ci-dessous recense les différentes opérations que l'on peut effectuer sur des entiers~:
\begin{center}
     \begin{tabularx}{0.9\linewidth}{|*{3}{>{\centering \arraybackslash }X|}}%class="compact"
          \hline
          \textbf{Op.} & \textbf{Description} & \textbf{Exemple}
          \\ \hline
          + & Calcule la somme de deux entiers & b = a + 2
          \\ \hline
          - & Calcule la différence de deux entiers & b = 4 - a
          \\ \hline
          * & Calcule le produit de deux entiers & b = 5 * a
          \\ \hline
          / & Calcule le quotient décimal de deux entiers \newline (le résultat est de type \textit{float}) & b = 8/5 \newline (b vaut alors 1.6)
          \\ \hline
          // & Calcule le quotient entier de deux entiers \newline (division \og euclidienne \fg{} ) & b = 8/5 \newline (b vaut alors 1)
          \\ \hline
          \% & Calcule le reste de la division \og euclidienne \fg{} \newline de deux entiers & b = 8\%5 \newline (b vaut alors 3)
          \\ \hline
     \end{tabularx}
\end{center}
Python respecte l'ordre mathématique des calculs (parenthèses, puis puissances, puis multiplications et divisons, puis additions et soustractions). Par exemple~:
 \begin{lstlisting}[language=Python]
a=12+5*(3-1)**3 
print(a) # affiche 52
\end{lstlisting}
\begin{h2}3. Type \og float \fg{} \end{h2}
En Python, les nombres décimaux (\textit{float}) s'écrivent en utilisant un point comme séparateur décimal (par exemple 1.2 au lieu de 1,2).
Lorsqu'on veut définir un nombre entier comme nombre décimal, on peut le transtyper, mais il est plus simple d'ajouter \og .0 \fg{} à la fin de ce nombre~:
\begin{lstlisting}[language=Python]
>>> type(5) # affiche : <class 'int'>
>>> type(float(5)) # affiche : <class 'float'>
>>> type(5.0) # affiche : <class 'float'>
\end{lstlisting}
Les opérations que l'on peut effectuer sur les nombres décimaux sont les mêmes que pour les nombres entiers à la différence près qu'elles renvoient un nombre décimal.
\par
Par exemple~:
\begin{lstlisting}[language=Python]
>>> 2.5*1.2 # affiche 3.0
\end{lstlisting}
\begin{h2}4. Type \og str \fg{} \end{h2}
Pour définir une chaîne de caractères (type~: \textit{str} pour \textit{string}) en Python, il faut placer cette chaîne entre apostrophes (') ou entre guillemets ("). Par exemple~:
 \begin{lstlisting}[language=Python]
a="Bonjour les amis" # a est de type str
b='Comment allez-vous?' # b est de type str
\end{lstlisting}
Si la chaîne de caractères comporte déjà une apostrophe ou un guillemet, cela peut être problématique~:\\
par exemple, l'instruction~:
 \begin{lstlisting}[language=Python]
a='J'ai froid'
\end{lstlisting}
est incorrecte à cause de la présence d'une apostrophe dans le texte (Python croit alors que cette apostrophe indique la fin de la chaîne de caractères et il ne comprend pas la suite...)
On peut résoudre ce problème de 3 manières différentes~:
\begin{itemize}
     \item %
     alterner guillemets et apostrophes~: \texttt{a="J'ai froid"} est correct
     \item %
     \textit{échapper} l'apostrophe en la faisant précéder d'un antislash (\textbackslash)~: \textit{a='J\'ai froid'} est correct
     \item %
     placer le texte entre \textbf{trois} apostrophes~: \texttt{a='''J'ai froid'''} est correct
\end{itemize}
Une autre caractéristique de la notation avec les triples apostrophes est d'accepter plusieurs lignes de texte dans la chaîne.
\\Par exemple~:
 \begin{lstlisting}[language=Python]
a= '''Ligne 1
Ligne 2''' 
# a contient deux lignes de texte
\end{lstlisting}
Pour effectuer un saut de ligne, il est également possible d'utiliser le caractère spécial \og \textbackslash n \fg{}.
\\Par exemple~:
 \begin{lstlisting}[language=Python]
a='Ligne 1\nLigne 2'
# a contient aussi deux lignes de texte
\end{lstlisting}
L'opérateur + permet de concaténer (mettre bout à bout) deux chaînes de caractère~; l'opérateur * (suivi ou précédé d'un nombre entier) permet de répéter plusieurs fois une chaîne~:
\begin{lstlisting}[language=Python]
a='Bonjour '
b='Vincent'
print(a+b) # affiche : Bonjour Vincent
print(3*a) # affiche : Bonjour Bonjour Bonjour 
\end{lstlisting}
\input{_footer}